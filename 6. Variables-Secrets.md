Absolutely, Deepak! Let’s now cover **variables vs secrets** in GitHub Actions with **real-life DevOps examples** (like CI/CD, Terraform, Docker, Slack), and **no NPM/matrix examples** — just practical use.

📘 **Reference:**
👉 [GitHub Docs – Variables and Secrets](https://docs.github.com/en/actions/learn-github-actions/variables)

---

## 🔁 Variables vs Secrets: What's the Difference?

| Feature    | Variables (`env`)                   | Secrets (`secrets`)                      |
| ---------- | ----------------------------------- | ---------------------------------------- |
| Used for   | Config values (e.g., region, env)   | Sensitive info (e.g., API keys, tokens)  |
| Scope      | `env` key, or `echo >> $GITHUB_ENV` | Stored securely in GitHub UI             |
| Visibility | Visible in logs (unless masked)     | Masked from logs, redacted automatically |
| Security   | Not encrypted                       | Encrypted and secure                     |

---

## ✅ 1. **Using Variables (Non-Sensitive Data)**

### 💼 Example: Docker Build with Tags and Environments

```yaml
name: Docker Build

on:
  push:
    branches: [ main ]

env:
  APP_NAME: "devops-webapp"
  REGION: "ap-south-1"

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Build Docker image
        run: |
          docker build -t $APP_NAME:latest .

      - name: Tag with region
        run: |
          docker tag $APP_NAME:latest $APP_NAME:$REGION
```

💡 **Use Case**: You're tagging a Docker image based on the region you’re deploying to.

---

## 🔐 2. **Using Secrets (Sensitive Data)**

Secrets must be **added via GitHub UI**
➡ Go to `Repo > Settings > Secrets and variables > Actions > New repository secret`

### 💼 Example: Push Docker Image to DockerHub or ECR

```yaml
name: Push to DockerHub

on: [push]

jobs:
  docker-push:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Docker Login
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin

      - name: Push Docker image
        run: |
          docker build -t devopsweb:latest .
          docker push devopsweb:latest
```

🔐 Secrets used:

* `DOCKER_USERNAME`
* `DOCKER_PASSWORD`

➡ Securely passed to login without showing in logs.

---

## 🧱 3. **Terraform with Secrets and Variables**

```yaml
env:
  TF_VAR_region: "ap-south-1"

jobs:
  terraform:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Terraform
        uses: hashicorp/setup-terraform@v2

      - name: Terraform Init
        run: terraform init

      - name: Terraform Plan
        run: terraform plan -var "access_key=${{ secrets.AWS_ACCESS_KEY_ID }}" -var "secret_key=${{ secrets.AWS_SECRET_ACCESS_KEY }}"
```

💡 `TF_VAR_region` is a **public config variable**, while AWS credentials are **stored as secrets**.

---

## 🔔 4. **Slack or Discord Notification with Token**

```yaml
jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send Slack Notification
        run: |
          curl -X POST -H 'Authorization: Bearer ${{ secrets.SLACK_TOKEN }}' \
          -H 'Content-type: application/json' \
          --data '{"text":"✅ Deployment Complete!"}' \
          https://slack.com/api/chat.postMessage
```

🛡️ Secret: `SLACK_TOKEN`
Use-case: Prevent token exposure in logs while enabling alerts.

---

## 📌 Best Practices

| Practice                                      | Description                                   |
| --------------------------------------------- | --------------------------------------------- |
| 🔐 Always use secrets for credentials         | API keys, tokens, passwords, SSH              |
| 📦 Use variables for configs                  | Regions, tags, filenames                      |
| ✨ Use `env:` for global variables             | Shared across jobs                            |
| 💡 Use `$GITHUB_ENV` to set runtime variables | Dynamic values like timestamps or commit tags |
| 🔐 Use `secrets.*` only in `run:` or `env:`   | They’re not available in expressions directly |

---

## 📘 Reference

🔗 [GitHub Docs – Variables and Secrets](https://docs.github.com/en/actions/learn-github-actions/variables)

---

Would you like a comparison of `secrets`, `env`, `GITHUB_ENV`, and `GITHUB_OUTPUT` next? Or a secure pattern for handling `.env` files in workflows?
