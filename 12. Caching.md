# Caching Files in GitHub Actions

GitHub Actions provides a caching mechanism to store files and directories that your workflows frequently use, reducing execution time by avoiding redundant downloads or rebuilds.

## How Caching Works in GitHub Actions

The `actions/cache` action allows you to save files between workflow runs. When you create a cache, it's stored by a key you specify. On subsequent runs, the workflow can restore the cache using the same key.

## Basic Example (Python)

```yaml
name: Python CI with cache

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'
    
    - name: Cache pip packages
      uses: actions/cache@v3
      with:
        path: ~/.cache/pip
        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements.txt') }}
        restore-keys: |
          ${{ runner.os }}-pip-
    
    - name: Install dependencies
      run: pip install -r requirements.txt
```

## Java Example (Gradle)

```yaml
name: Java CI with cache

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Cache Gradle packages
      uses: actions/cache@v3
      with:
        path: |
          ~/.gradle/caches
          ~/.gradle/wrapper
        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}
        restore-keys: |
          ${{ runner.os }}-gradle-
    
    - name: Build with Gradle
      run: ./gradlew build
```

## Rust Example (Cargo)

```yaml
name: Rust CI with cache

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Cache cargo registry
      uses: actions/cache@v3
      with:
        path: |
          ~/.cargo/registry
          ~/.cargo/git
          target
        key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}
    
    - name: Build
      run: cargo build --verbose
```

## Key Parameters

- `path`: The file paths to cache (can be a single path or multiple paths)
- `key`: Unique identifier for the cache
- `restore-keys`: Ordered list of keys to use for restoring stale cache if exact match not found

## Cache Limits

- GitHub removes any cache entries that haven't been accessed in over 7 days
- The total size of all caches in a repository is limited (10 GB for GitHub Free, 20 GB for GitHub Pro, 50 GB for GitHub Team/Enterprise)

## Best Practices

1. Use specific keys that change when your dependencies change (like hashing lock files)
2. Include the OS in your key for cross-platform compatibility
3. Use `restore-keys` for partial cache hits
4. Avoid caching large files that don't significantly improve build time

## Official Documentation

For more details and advanced usage, refer to the official GitHub documentation:
[GitHub Actions Caching Documentation](https://docs.github.com/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows)
